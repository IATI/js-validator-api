{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://iatistandard.org/iati-validator-report.schema.json",
    "title": "Validation Report",
    "description": "Validation Report for IATI XML",
    "type": "object",
    "required": ["valid"],
    "properties": {
        "valid": {
            "description": "Is the IATI XML valid with no critical errors",
            "type": "boolean"
        },
        "fileInfo": {
            "type": "object",
            "properties": {
                "fileType": {
                    "description": "The type of IATI file",
                    "type": "string",
                    "enum": ["iati-activities", "iati-organisations"]
                },
                "version": {
                    "description": "IATI Version X.XX",
                    "type": "string",
                    "example": ["2.03"]
                }
            }
        },
        "summary": {
            "type": "object",
            "description": "Summary of number of each severity level of error",
            "properties": {
                "critical": {
                    "description": "Number of critical level validation errors with the file",
                    "type": "integer"
                },
                "danger": {
                    "description": "Number of danger level validation errors with the file",
                    "type": "integer"
                },
                "warning": {
                    "description": "Number of warning level validation errors with the file",
                    "type": "integer"
                }
            }
        },
        "errors": {
            "type": "object",
            "items": {
                "error": {
                    "type": "object",
                    "description": "Information about the rule used by the validator",
                    "required": ["id", "severity", "context", "message"],
                    "properties": {
                        "id": {
                            "type": "string",
                            "description": "The unique identifier of the error",
                            "examples": ["9.26.1", "9.42.1"]
                        },
                        "priority": {
                            "type": "string",
                            "description": "I DONT KNOW WHAT THIS IS, POTENTIALLY DELETE",
                            "examples": ["9.26", "9.42"]
                        },
                        "severity": {
                            "type": "string",
                            "enum": ["critical", "error", "warning"],
                            "description": "The severity level of the error"
                        },
                        "xpath": {
                            "type": "string",
                            "description": "The XPath location of the error",
                            "examples": ["/iati-activities/iati-activity/participating-org"]
                        },
                        "context": {
                            "type": "string",
                            "description": "The context of the error",
                            "examples": ["\"25\" is not a valid value for attribute @code"]
                        },
                        "category": {
                            "type": "string",
                            "enum": [
                                "identifiers",
                                "organisation",
                                "information",
                                "participating",
                                "geo",
                                "classifications",
                                "financial",
                                "documents",
                                "relations",
                                "performance"
                            ],
                            "description": "The category of the validation error"
                        },
                        "message": {
                            "type": "string",
                            "description": "The informational message about the validation error"
                        },
                        "codelist": {
                            "type": "string",
                            "description": "The codelist that is being validated against (if applicable)",
                            "examples": ["OrganisationRole", "DescriptionType", "ActivityDateType"]
                        }
                    }
                }
            }
        }
    }
}
